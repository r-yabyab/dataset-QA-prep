{"type": "constructor_declaration", "start_line": 23, "end_line": 28, "start_char": 701, "end_char": 916, "text": "@Autowired\n    public GameController(GameService gameService, Board board, MoveService moveService) {\n        this.gameService = gameService;\n        this.board = board;\n        this.moveService = moveService;\n    }", "name": "GameController", "modifiers": ["@Autowired", "public"], "annotations": []}
{"type": "method_declaration", "start_line": 30, "end_line": 44, "start_char": 922, "end_char": 1571, "text": "@MessageMapping(\"/hello\") // client sends here\n    @SendTo(\"/topic/game\") // server sends here\n    public Game game(String message) throws Exception {\n        if (\"begin\".equalsIgnoreCase(message.trim())) {\n            if (gameService.getGame().getGameState() == 0 || gameService.getGame().getGameState() == 2) {\n                gameService.resetGame();\n            }\n            return gameService.getGame();\n        } else if (\"rejoin\".equalsIgnoreCase(message.trim())) {\n            if (gameService.getGame().getGameState() == 1) {\n                gameService.getGame();\n            }\n        }\n        return null; // Or handle other cases\n    }", "name": "game", "modifiers": ["// client sends here", "// server sends here", "public"], "annotations": ["@MessageMapping(\"/hello\")", "@SendTo(\"/topic/game\")"]}
{"type": "method_declaration", "start_line": 46, "end_line": 55, "start_char": 1577, "end_char": 1906, "text": "@MessageMapping(\"/generateBoard\")\n    @SendTo(\"/topic/board\")\n    public Board generateBoard(String message) throws Exception {\n//        Board board = new Board(8,8);\n        if (\"generate\".equalsIgnoreCase(message.trim())) {\n//            return new Board();\n            return new Board();\n        }\n        return null;\n    }", "name": "generateBoard", "modifiers": ["public"], "annotations": ["@MessageMapping(\"/generateBoard\")", "@SendTo(\"/topic/board\")"]}
{"type": "method_declaration", "start_line": 57, "end_line": 67, "start_char": 1912, "end_char": 2288, "text": "@MessageMapping(\"/makeMove\")\n    @SendTo(\"/topic/board\")\n    public Board makeMove(MoveRequest moveRequest) throws Exception {\n        moveService.applyMove(moveRequest);\n\n////        if (board.isMatch(moveRequest.getTargetRow(), moveRequest.getTargetCol())) {\n////            board.applyMove(moveRequest);\n////            return board;\n//        }\n        return board;\n    }", "name": "makeMove", "modifiers": ["public"], "annotations": ["@MessageMapping(\"/makeMove\")", "@SendTo(\"/topic/board\")"]}
